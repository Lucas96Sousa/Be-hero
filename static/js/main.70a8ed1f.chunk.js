(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{35:function(e,t,a){},37:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(28),s=a.n(r),o=(a(35),a(10)),i=a(2),l=a(8),u=a.n(l),j=a(12),b=a(4),d=a(11),p=(a(37),a.p+"static/media/heroes.b413d9df.png"),h=a.p+"static/media/logo.4f957741.svg",O=a(29),x=a.n(O).a.create({baseURL:"http://localhost:3001"}),f=a(0);function m(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],r=Object(i.f)();function s(){return(s=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x.post("sessions",{id:a});case 4:n=e.sent,localStorage.setItem("ongId",a),localStorage.setItem("ongName",n.data.name),r.push("/profile"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Falha no login, tente novamente");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(f.jsxs)("div",{className:"logon-container",children:[Object(f.jsxs)("section",{className:"form",children:[Object(f.jsx)("img",{src:h,alt:"Be The Hero"}),Object(f.jsxs)("form",{onSubmit:function(e){return s.apply(this,arguments)},children:[Object(f.jsx)("h1",{children:"Fa\xe7a seu logon"}),Object(f.jsx)("input",{placeholder:"Sua ID",value:a,onChange:function(e){return c(e.target.value)}}),Object(f.jsx)("button",{className:"button",type:"submit",children:"Entrar"}),Object(f.jsxs)(o.b,{className:"back-link",to:"/register",children:[Object(f.jsx)(d.b,{size:16,color:"#e02041"}),"N\xe3o tenho cadastro"]})]})]}),Object(f.jsx)("img",{src:p,alt:"Heroes"})]})}a(62);function v(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(b.a)(r,2),l=s[0],p=s[1],O=Object(n.useState)(""),m=Object(b.a)(O,2),v=m[0],g=m[1],S=Object(n.useState)(""),N=Object(b.a)(S,2),C=N[0],y=N[1],k=Object(n.useState)(""),w=Object(b.a)(k,2),I=w[0],z=w[1],E=Object(i.f)();function B(){return(B=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={name:a,email:l,whatsapp:v,city:C,uf:I},e.prev=2,e.next=5,x.post("ongs",n);case 5:c=e.sent,alert("Seu id de acesso: ".concat(c.data.id)),E.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert("Erro no cadastro, tente novamente");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(f.jsx)("div",{className:"register-container",children:Object(f.jsxs)("div",{className:"content",children:[Object(f.jsxs)("section",{children:[Object(f.jsx)("img",{src:h,alt:"Be the Hero"}),Object(f.jsx)("h1",{children:"Cadastro"}),Object(f.jsx)("p",{children:"Fa\xe7a seu cadastro, entre na plataforma e ajude pessoas a encontrarem casos da sua ONG"}),Object(f.jsxs)(o.b,{className:"back-link",to:"/",children:[Object(f.jsx)(d.a,{size:16,color:"#e02041"}),"Voltar para p\xe1gina principal"]})]}),Object(f.jsxs)("form",{onSubmit:function(e){return B.apply(this,arguments)},children:[Object(f.jsx)("input",{placeholder:"Nome da ONG",value:a,onChange:function(e){return c(e.target.value)}}),Object(f.jsx)("input",{type:"email",placeholder:"E-mail",value:l,onChange:function(e){return p(e.target.value)}}),Object(f.jsx)("input",{placeholder:"Whatsapp",value:v,onChange:function(e){return g(e.target.value)}}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{placeholder:"Cidade",value:C,onChange:function(e){return y(e.target.value)}}),Object(f.jsx)("input",{placeholder:"UF",style:{width:80},value:I,onChange:function(e){return z(e.target.value)}})]}),Object(f.jsx)("button",{className:"button",type:"submit",children:"Cadastrar"})]})]})})}a(63);function g(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1],r=localStorage.getItem("ongName"),s=localStorage.getItem("ongId"),l=Object(i.f)();function p(){return(p=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.delete("incidents/".concat(t),{headers:{Authorization:s}});case 3:c(a.filter((function(e){return e.id!==t}))),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert("Erro ao deletar caso");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){x.get("profile",{headers:{Authorization:s}}).then((function(e){c(e.data)}))}),[s]),Object(f.jsxs)("div",{className:"profile-container",children:[Object(f.jsxs)("header",{children:[Object(f.jsx)("img",{src:h,alt:"Be the Hero"}),Object(f.jsxs)("span",{children:["Bem Vindo, ",r]}),Object(f.jsx)(o.b,{className:"button",to:"/incidents/new",children:"Cadastrar novo caso"}),Object(f.jsx)("button",{children:Object(f.jsx)(d.c,{onClick:function(){localStorage.clear(),l.push("/")},size:18,color:"#e02041"})})]}),Object(f.jsx)("h1",{children:"Casos cadastrados"}),Object(f.jsx)("ul",{children:a.map((function(e){return Object(f.jsxs)("li",{children:[Object(f.jsx)("strong",{children:"CASO:"}),Object(f.jsx)("p",{children:e.title}),Object(f.jsx)("strong",{children:"DESCRI\xc7\xc3O"}),Object(f.jsx)("p",{children:e.description}),Object(f.jsx)("strong",{children:"VALOR:"}),Object(f.jsx)("p",{children:Intl.NumberFormat("pt-br",{style:"currency",currency:"BRL"}).format(e.value)}),Object(f.jsx)("button",{onClick:function(){return function(e){return p.apply(this,arguments)}(e.id)},type:"button",children:Object(f.jsx)(d.d,{size:18,color:"#a2a2a2"})})]},e.id)}))})]})}a(64);function S(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(b.a)(r,2),l=s[0],p=s[1],O=Object(n.useState)(""),m=Object(b.a)(O,2),v=m[0],g=m[1],S=localStorage.getItem("ongId");function N(){return(N=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={title:a,description:l,value:v},e.prev=2,e.next=5,x.post("incidents",n,{headers:{Authorization:S}});case 5:C.push("/profile"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert("Erro ao cadastrar");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}var C=Object(i.f)();return Object(f.jsx)("div",{className:"incident-container",children:Object(f.jsxs)("div",{className:"content",children:[Object(f.jsxs)("section",{children:[Object(f.jsx)("img",{src:h,alt:"Be the Hero"}),Object(f.jsx)("h1",{children:"Cadastrar novo caso"}),Object(f.jsx)("p",{children:"Descreava o caso detalhadamente para encontrar um her\xf3i para resolver isso."}),Object(f.jsxs)(o.b,{className:"back-link",to:"/profile",children:[Object(f.jsx)(d.a,{size:16,color:"#e02041"}),"Voltar para home"]})]}),Object(f.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(f.jsx)("input",{placeholder:"Tit\xfalo do caso",value:a,onChange:function(e){return c(e.target.value)}}),Object(f.jsx)("textarea",{placeholder:"Descri\xe7\xe3o",value:l,onChange:function(e){return p(e.target.value)}}),Object(f.jsx)("input",{placeholder:"Valor em reais",value:v,onChange:function(e){return g(e.target.value)}}),Object(f.jsx)("button",{className:"button",type:"submit",children:"Cadastrar"})]})]})})}function N(){return Object(f.jsx)(o.a,{children:Object(f.jsxs)(i.c,{children:[Object(f.jsx)(i.a,{path:"/",exact:!0,component:m}),Object(f.jsx)(i.a,{path:"/register",component:v}),Object(f.jsx)(i.a,{path:"/profile",component:g}),Object(f.jsx)(i.a,{path:"/incidents/new",component:S})]})})}var C=function(){return Object(f.jsx)(N,{})};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.70a8ed1f.chunk.js.map